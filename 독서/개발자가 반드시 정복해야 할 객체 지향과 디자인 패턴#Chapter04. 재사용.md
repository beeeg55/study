### Chapter 04. 재사용: 상속보단 조립

87pg - 102pg

---
이전장에서는 재사용 시 상속을 드는 경우를 다뤘는데 이번장은 상속을 사용할 경우 몇가지 문제점과 그에 대한 해결방법으로 객체 조립 방식을 제시했다. 아직은.. 이것을 실제로 적용하는거에 있어서 감이 안오지만,,, 최대한 케이스에 따라 언제 상속을 사용해야하고, 언제 객체 조립을 사용할지를 생각하며 요번 장을 읽었다! 🙃


1.  **상속과 재사용**
	
	상속을 사용하면 쉽게 다른 클래스의 기능을 재사용 및 추가 기능을 확장할 있다는 큰 장점이 있지만 변경의 유연함이라는 관점에서 몇가지 단점이 있다. 
	* 단점 1. 상위 클래스 변경의 어려움 
		
		상위 클래스 변경 시 하위 클래스에 영향을 줄 수 있고, 이는 클래스 계층도에 있는 클래스들을 한개의 거대한 단일 구조처럼 만드는 결과를 초래할 수 있다.
		
	* 단점 2. 클래스의 불필요한 증가

		다중상속이 불가한 자방에서는 한개의 클래스만 상속받고 다른 기능은 별도로 구현해야한다. 필요한 기능이 증가될수록, 상속을 통한 기능 재사용을 하면 클래스와 개수는 함께 증가하게된다. 
	* 단점 3. 상속의 오용
 		
 		IS-A 관계가 성립할때 상속을 적용하지 않으면 상속이 오용될 수 있다.
 		아래 예제에서 역시 목록관리는 ArrayList를 상속받아 사용하고, 수화물을 넣는 기능은 구혔했다치자. 
 		컨테이너 자체는 ArrayList가 아니기 때문에 IS-A 관계가 성립하지 않아 설계자가 아닌 다른 개발자들이 구현된 put()이 아닌 이클립스 자동완성기능으로 add() 를 써버린다면 잘못된 로직이 되버린다. 
 		> 예제 - Container<br>
 		
 		~~~java
 			public class Container extends ArrayList<Luggage>{
 				...
 			 	public void put(Luggage lug) thorows NotEnoughSpaceException {
 			 	if(!canContain(lug))
 			 		throw new NotEnoughSpaceException();
 			 	super.add(lug);
 			 	currentSize += lug.size();
 			}
 			...
 		~~~
 		

2. **조립을 이용한 재사용**
	
	앞서 보았던 단점들을 보완하기 위해서는 객체 조립이라는 방법이 있다. 물론 모든 상황에서 객체 조립을 사용해야 한다는 얘기는 아니며, 상속을 사용하다 보면 변경의 관점에서 유연함이 떨어질 가능성이 높으니 객체 조립을 먼저 고민하라는 것이다. <br>
	(조립 역시 상속보다 구현이 어렵고 구조가 복잡해진다는 단점이있다)
	
	* 위임 : 자신의 할일을 다른 객체에게 넘김. 보통 조립 방식을 이용하여 위임을 구현한다.

	위임을 사용하면 다른 객체에 한번 더 요청을 하게되어 실행 시간은 다소 증가한다. 연산 속도가 매우 중요한 시스템에서는 지양해야하지만,, 대부분의 경우에는 위임으로 발생하는 성능저하보다는 얻을 수 있는 유연함/재사용의 장점이 크다

	 ~~~java
 			public abstract class Figure{
 				private Bounds bounds. = new Bounds(); // 위임 대상을 조립 형태로 가짐
 				...
 				public boolean contains(Poing point){
 					// bounds 객체에 처리를 위임함
 					retrun bounds.contains(point.getX(), point.getY());
 				}
 			 	...
 			}
 		
 		~~~
 		

<mark> 그래서 상속을 언제 사용하고 조립을 언제 사용할까?😃</mark> <br>

- 상속
	* 재사용이라는 관점이 아닌 기능의 확장이라는 관점에서 상속을 적용해야한다.
	* 추가로 명확한 IS-A 관계가 성립되어야 한다. 
- 조립
	* 클래스의 개수가 불필요하게 증가하는 문제가 발생하는 경우
	* 상위클래스와 변경의 어려워지는 경우 